/* Copyright 2017 The Fuchsia Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style license that can be
 * found in the LICENSE file.
 */

/* See: https://elinux.org/Device_Tree_Usage */
/dts-v1/;

/ {
  interrupt-parent = <&gic>;
  model = "Machina";
  #address-cells = <1>;
  #size-cells = <1>;

  chosen {
    // Will be populated at run-time.
  };

  cpus {
    #address-cells = <1>;
    #size-cells = <0>;

    cpu@0 {
      device_type = "cpu";
      compatible = "arm,cortex-a53", "arm,armv8";
      reg = <0>;
      enable-method = "psci";
    };
  };

  memory@0 {
    device_type = "memory";
    reg = <0 0x10000000>,
          /* 16mb hole for MMIO */
          <0x11000000 0x2e000000>;
          /* 16mb hole for ECAM */
  };

  psci {
    compatible = "arm,psci";
    method = "smc";
  };

  uart@fff32000 {
    compatible = "arm,pl011", "arm,primecell";
    reg = <0xfff32000 0x1000>;
    interrupts = <0 79 4>; /* SPI 79 HIGH */
  };

  gic: gic@e82b0000 {
    interrupt-controller;
    compatible = "arm,gic-400";
    reg = <0xe82b1000 0x1000>, /* GICD */
          <0xe82b2000 0x2000>; /* GICC */
    #address-cells = <0>;
    #interrupt-cells = <3>;
  };

  timer {
    compatible = "arm,armv8-timer";
    interrupts = <1 27 4>; /* PPI 27 HIGH/CPU-0 */
  };

  rtc@09010000 {
    compatible = "arm,pl031", "arm,primecell";
    reg = <0x09010000 0x1000>;
  };

  pci@10000000 {
    device_type = "pci";
    compatible = "pci-host-ecam-generic";
    reg = <0x3f000000 0x1000000>;
    bus-range = <0 0>;
    ranges = <0x2000000 0 0x10000000 0x10000000 0 0x1000000>;
    #address-cells = <3>;
    #size-cells = <2>;
  };
};
